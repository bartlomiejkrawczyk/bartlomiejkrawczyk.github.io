---
import type { HTMLAttributes } from "astro/types";
import TagElement from "./TagElement.astro";
import { tags, type TagId } from "./Tags";

interface Props extends HTMLAttributes<"div"> {
  company: string;
  period: string;
  link?: string;
  title?: string;
  description?: string;
  workTags?: TagId[];
}

const { company, period, link, title, description, workTags, ...props } =
  Astro.props;
---

<div {...props}>
  <div class="flex">
    <h3 class="flex-1"><a href={link} target="_blank">{company}</a></h3>
    <span>{period}</span>
  </div>
  {title ? <div>{title}</div> : null}
  {description ? <div>{description}</div> : null}
  {
    workTags ? (
      <ul class="flex flex-wrap gap-1">
        {workTags.map((tag) => (
          <TagElement tag={tags[tag]} />
        ))}
      </ul>
    ) : null
  }
</div>
