---
import "@styles/global.css";
import Footer from "@components/layout/Footer.astro";
import Head from "@components/layout/Head.astro";
import Header from "@components/navigation/Header.astro";
import LeftSidebar from "@components/layout/LeftSidebar.astro";
import RightSidebar from "@components/layout/RightSidebar.astro";
import { type LanguageKey } from "@i18n/ui";

interface Props {
  title?: string | undefined;
  description?: string | undefined;
  children: any;
}

const { title, description } = Astro.props;

const lang = Astro.currentLocale as LanguageKey;
---

<!doctype html>
<html lang={lang} transition:name="root" transition:animate="none">
  <Head title={title} description={description}>
    <slot name="head" slot="head" />
  </Head>
  <body>
    <Header />
    <div class="page-container">
      <LeftSidebar />
      <div class="main-content">
        <div class="content p-8" transition:animate="fade">
          <slot />
        </div>
        <Footer />
      </div>
      <RightSidebar />
    </div>
  </body>
</html>

<style is:global>
  header {
    height: 64px;
  }

  .page-container {
    display: flex;
    justify-content: center;
    width: 100%;
    min-height: calc(100vh - 64px);
  }

  .sidebar {
    flex: 1;
  }

  .main-content {
    max-width: min(100%, 1200px);
    flex: 0 1 min(100%, 1200px);
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  .content {
    display: flex;
    flex-direction: column;
    justify-content: space-between;
  }

  footer {
    display: flex;
    margin-top: auto;
    flex-direction: row;
    justify-content: space-between;
    gap: 3rem;
    padding: 2.5rem 5rem;
    text-align: center;
    color: var(--gray-400);
    font-size: var(--text-sm);
  }

  @media (max-width: 50em) {
    .sidebar {
      display: none;
    }

    .main-content {
      flex: 1;
    }

    footer {
      flex-direction: column;
      padding: 3rem 2rem 3rem;
    }
  }
</style>
